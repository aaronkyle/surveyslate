import*as y from"../nanoassert@1.1.0/index.js";function m(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function C(o){return o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var S=C(y),f=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","onanimationend","onanimationiteration","onanimationstart","oncontextmenu","onfocusin","onfocusout"];m(f);var p=f,T=p.length,V=1,O=3,j=8,b=k;function k(o,e){var n=o.nodeType,t=o.nodeName;n===V&&w(o,e),(n===O||n===j)&&e.nodeValue!==o.nodeValue&&(e.nodeValue=o.nodeValue),t==="INPUT"?$(o,e):t==="OPTION"?E(o,e):t==="TEXTAREA"&&P(o,e),I(o,e)}function w(o,e){for(var n=e.attributes,t=o.attributes,l=null,i=null,r=null,a=null,u=null,s=t.length-1;s>=0;--s)u=t[s],a=u.name,l=u.namespaceURI,i=u.value,l?(a=u.localName||a,r=e.getAttributeNS(l,a),r!==i&&e.setAttributeNS(l,a,i)):e.hasAttribute(a)?(r=e.getAttribute(a),r!==i&&(i==="null"||i==="undefined"?e.removeAttribute(a):e.setAttribute(a,i))):e.setAttribute(a,i);for(var c=n.length-1;c>=0;--c)u=n[c],u.specified!==!1&&(a=u.name,l=u.namespaceURI,l?(a=u.localName||a,o.hasAttributeNS(l,a)||e.removeAttributeNS(l,a)):o.hasAttributeNS(null,a)||e.removeAttribute(a))}function I(o,e){for(var n=0;n<T;n++){var t=p[n];o[t]?e[t]=o[t]:e[t]&&(e[t]=void 0)}}function E(o,e){h(o,e,"selected")}function $(o,e){var n=o.value,t=e.value;h(o,e,"checked"),h(o,e,"disabled"),o.indeterminate!==e.indeterminate&&(e.indeterminate=o.indeterminate),e.type!=="file"&&(n!==t&&(e.setAttribute("value",n),e.value=n),n==="null"&&(e.value="",e.removeAttribute("value")),o.hasAttributeNS(null,"value")?e.type==="range"&&(e.value=n):e.removeAttribute("value"))}function P(o,e){var n=o.value;if(n!==e.value&&(e.value=n),e.firstChild&&e.firstChild.nodeValue!==n){if(n===""&&e.firstChild.nodeValue===e.placeholder)return;e.firstChild.nodeValue=n}}function h(o,e,n){o[n]!==e[n]&&(e[n]=o[n],o[n]?e.setAttribute(n,""):e.removeAttribute(n))}m(b);var v=S,_=b,q=3,D=F;function F(o,e,n){return v.equal(typeof o,"object","nanomorph: oldTree should be an object"),v.equal(typeof e,"object","nanomorph: newTree should be an object"),n&&n.childrenOnly?(g(e,o),o):(v.notEqual(e.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)"),d(e,o))}function d(o,e){return e?o?o.isSameNode&&o.isSameNode(e)?e:o.tagName!==e.tagName||N(o)!==N(e)?o:(_(o,e),g(o,e),e):null:o}function N(o){return o.dataset?o.dataset.nanomorphComponentId:void 0}function g(o,e){for(var n,t,l,i,r=0,a=0;n=e.childNodes[a],t=o.childNodes[a-r],!(!n&&!t);a++)if(!t)e.removeChild(n),a--;else if(!n)e.appendChild(t),r++;else if(A(t,n))l=d(t,n),l!==n&&(e.replaceChild(l,n),r++);else{i=null;for(var u=a;u<e.childNodes.length;u++)if(A(e.childNodes[u],t)){i=e.childNodes[u];break}i?(l=d(t,i),l!==i&&r++,e.insertBefore(l,n)):!t.id&&!n.id?(l=d(t,n),l!==n&&(e.replaceChild(l,n),r++)):(e.insertBefore(t,n),r++)}}function A(o,e){return o.id?o.id===e.id:o.isSameNode?o.isSameNode(e):o.tagName!==e.tagName?!1:o.type===q?o.nodeValue===e.nodeValue:!1}var R=m(D);export{R as default};
